{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main.js"],"sourcesContent":["// Описаний в документації\nimport iziToast from \"izitoast\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"49371297-53cf19ada26e8c05638a83539\";\n\nfunction getPhotos(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}\n\nexport { getPhotos };\n","import iziToast from \"izitoast\";\n\n// create a template\nfunction processImage({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  const liTemplate = `\n  <div class=\"gallery-item\">\n    <li>\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n    </li>\n    <ul class=\"gallery-ul\">\n      <li class=\"gallery-li\">\n        <p>Likes</p>\n        <p>${likes}</p>\n      </li>\n      <li class=\"gallery-li\">\n        <p>Views</p>\n        <p>${views}</p>\n      </li>\n      <li class=\"gallery-li\">\n        <p>Comments</p>\n        <p>${comments}</p>\n      </li>\n      <li class=\"gallery-li\">\n        <p>Downloads</p>\n        <p>${downloads}</p>\n      </li>\n    </ul>\n  </div>`;\n  return liTemplate;\n}\n\nfunction updateGallery(photos) {\n  return photos.map(processImage).join(\"\");\n}\n\nexport { updateGallery };\n","import iziToast from \"izitoast\";\nimport { getPhotos } from \"./pixabay-api\";\nimport { updateGallery } from \"./render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst refs = {\n  form: document.querySelector(\".js-form\"),\n  gallery: document.querySelector(\".js-gallery\"),\n  notFoundText: document.querySelector(\".js-not-found-text\"),\n  loader: document.querySelector(\".js-loader\"),\n};\n\nconst ACTIVE_CLASS = \"active\";\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  refs.notFoundText.innerHTML = \"\";\n\n  const form = event.currentTarget;\n  const userQuery = form.elements.user_query.value.trim();\n  console.dir(userQuery);\n\n  if (userQuery === \"\") {\n    // change to use iziToast\n    iziToast.show({\n      title: \"\",\n      message: `Введіть будь-ласка запит!`,\n    });\n    return;\n  }\n\n  refs.loader.classList.add(ACTIVE_CLASS);\n\n  getPhotos(userQuery)\n    .then(photos => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      console.dir(photos);\n      if (photos.total === 0) {\n        refs.gallery.innerHTML = \"\";\n\n        iziToast.show({\n          title: \"\",\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        return;\n      }\n      refs.gallery.innerHTML = updateGallery(photos.hits);\n\n      new SimpleLightbox(\".gallery a\", {\n        captionsData: \"alt\",\n        captionDelay: 250,\n      });\n    })\n    .catch(err => {\n      refs.loader.classList.remove(ACTIVE_CLASS);\n      console.log(err);\n    })\n    .finally(() => {\n      form.reset();\n    });\n}\n\nrefs.form.addEventListener(\"submit\", handleSearch);\n"],"names":["BASE_URL","API_KEY","getPhotos","query","params","res","processImage","webformatURL","largeImageURL","tags","likes","views","comments","downloads","updateGallery","photos","refs","ACTIVE_CLASS","handleSearch","event","form","userQuery","iziToast","SimpleLightbox","err"],"mappings":"6vBAGA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAUC,EAAO,CACxB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAO,CAChD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CClBA,SAASC,EAAa,CACpB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CA+BD,MA9BmB;AAAA;AAAA;AAAA,sCAGiBL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAORC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRC,CAAS;AAAA;AAAA;AAAA,SAKtB,CAEA,SAASC,EAAcC,EAAQ,CAC7B,OAAOA,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,CACzC,CC1CA,MAAMU,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,QAAS,SAAS,cAAc,aAAa,EAC7C,aAAc,SAAS,cAAc,oBAAoB,EACzD,OAAQ,SAAS,cAAc,YAAY,CAC7C,EAEMC,EAAe,SAErB,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBH,EAAK,aAAa,UAAY,GAE9B,MAAMI,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,WAAW,MAAM,OAGjD,GAFA,QAAQ,IAAIC,CAAS,EAEjBA,IAAc,GAAI,CAEpBC,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,2BACf,CAAK,EACD,MACD,CAEDN,EAAK,OAAO,UAAU,IAAIC,CAAY,EAEtCf,EAAUmB,CAAS,EAChB,KAAKN,GAAU,CAGd,GAFAC,EAAK,OAAO,UAAU,OAAOC,CAAY,EACzC,QAAQ,IAAIF,CAAM,EACdA,EAAO,QAAU,EAAG,CACtBC,EAAK,QAAQ,UAAY,GAEzBM,EAAS,KAAK,CACZ,MAAO,GACP,QACE,0EACZ,CAAS,EACD,MACD,CACDN,EAAK,QAAQ,UAAYF,EAAcC,EAAO,IAAI,EAElD,IAAIQ,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GACtB,CAAO,CACP,CAAK,EACA,MAAMC,GAAO,CACZR,EAAK,OAAO,UAAU,OAAOC,CAAY,EACzC,QAAQ,IAAIO,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAK,MAAK,CAChB,CAAK,CACL,CAEAJ,EAAK,KAAK,iBAAiB,SAAUE,CAAY"}